---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const posts = (await getCollection('posts')).sort(
	(a, b) => b.slug.localeCompare(a.slug)
);
---

<Layout title="Earl's Place | Home">
	<section class="post-list">
        <h1><a href="/">Earl Atnip's Place</a></h1>
		<ul>
			{posts.map((post) => (
				<li class="post-item">
					<a href={`/posts/${post.slug}/`} class="post-title">
						<h3>{post.data.title}</h3>
					</a>
					<p class="post-description">{post.data.description}</p>
				</li>
			))}
		</ul>
	</section>
</Layout>

<style>
	.post-list h2 {
		font-size: 1.5rem;
		font-weight: 500;
		margin-bottom: 2rem;
		text-align: center;
		color: #666;
	}
	.post-list ul {
		list-style: none;
		padding: 0;
		margin: 0;
	}
	.post-item {
		margin-bottom: 2rem;
		border-bottom: 1px solid var(--border-light);
		padding-bottom: 2rem;
	}
	.post-item:last-child {
		border-bottom: none;
		margin-bottom: 0;
	}
	.post-title {
		text-decoration: none;
	}
	.post-title h3 {
		color: var(--accent-maroon);
		margin: 0 0 0.5rem 0;
		font-size: 1.4rem;
		font-weight: 600;
		transition: color 0.2s ease-in-out;
	}
	.post-title:hover h3 {
		color: #000;
	}
	.post-date {
		color: #888;
		font-style: italic;
		margin-bottom: 0.75rem;
		font-size: 0.9rem;
	}
	.post-description {
		margin: 0;
		line-height: 1.6;
		color: #555;
	}
</style>
